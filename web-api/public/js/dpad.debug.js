!function(){"use strict";function e(e,t){return Math.floor(Math.sqrt(e*e+t*t))}const t=["#1abc9c","#2ecc71","#3498db","#9b59b6","#34495e","#f1c40f","#e67e22","#e74c3c","#ecf0f1","#95a5a6"];class n{constructor(e){this.clearDisplay=function(){const e=document.querySelectorAll(".dpad-debugger-line");for(const t of e)t.remove()},e||console.error("Unable to debug since the dpad controller is not defined."),this.dpad=e,this.debugMode=!1}setDebugMode(e){this.debugMode=e,this.updateDisplay()}toggleDebugMode(){this.debugMode=!this.debugMode,this.updateDisplay()}updateDisplay(){if(this.clearDisplay(),!this.debugMode)return;const e=this.dpad.getFocusableItems();for(let t=0;t<e.length;t++){const n=e[t];n.isFocusable()&&this.printDebugLinesForItem(t,n)}}printDebugLinesForItem(n,s){const d=t[n%t.length],i=s.getMetrics(),o=s.getTopFocusItemIndex();if(null!==o){const t=this.dpad.getFocusableItem(o).getMetrics(),n=t.center.x-i.center.x,s=i.top-t.center.y,c=180*Math.atan2(n,s)/Math.PI+180;this.printDebugLine(e(n,s),i.center.x-5,i.top,d,c)}const c=s.getBottomFocusItemIndex();if(null!==c){const t=this.dpad.getFocusableItem(c).getMetrics(),n=i.center.x-t.center.x,s=t.center.y-i.bottom,o=180*Math.atan2(n,s)/Math.PI+360;this.printDebugLine(e(n,s),i.center.x+5,i.bottom,d,o)}const a=s.getLeftFocusItemIndex();if(null!==a){const t=this.dpad.getFocusableItem(a).getMetrics(),n=t.center.x-i.left,s=i.center.y-t.center.y,o=180*Math.atan2(n,s)/Math.PI+180;this.printDebugLine(e(n,s),i.left,i.center.y+5,d,o)}const r=s.getRightFocusItemIndex();if(null!==r){const t=this.dpad.getFocusableItem(r).getMetrics(),n=t.center.x-i.right,s=i.center.y-t.center.y,o=180*Math.atan2(n,s)/Math.PI+180;this.printDebugLine(e(n,s),i.right,i.center.y-5,d,o)}}printDebugLine(e,t,n,s,d){const i=document.createElement("div");i.classList.add("dpad-debugger-line"),i.classList.add("marker"),i.classList.add("start"),i.style.position="absolute",i.style.width="5px",i.style.height=e+"px",i.style.left=t+"px",i.style.top=n+"px",i.style.backgroundColor=s,i.style.transform="rotate("+d+"deg)",i.style.transformOrigin="0% 0%",document.body.appendChild(i)}}window.addEventListener("load",()=>{window.dpaddebug=window.dpaddebug||new n(window.dpad)}),window.addEventListener("resize",()=>{window.dpaddebug&&window.dpaddebug.updateDisplay()})}();
//# sourceMappingURL=dpad-debugger.js.map